#!/usr/bin/env ruby
$:.unshift __dir__ + '/../../lib'
require 'hanami/cli'

module Foo
  module CLI
    include Hanami::Cli

    class Hello < Hanami::Cli::Command
      register 'hello'

      def call
      end
    end

    class Version < Hanami::Cli::Command
      register 'version'
      aliases '--version', '-v'

      def call
        puts "v1.0.0"
      end
    end

    class Server < Hanami::Cli::Command
      register 'server'

      param :port, alias: "-p"
      param :server
      param :host

      def call
        puts "Server: #{options}"
      end
    end

    module Generate
      class Help < Hanami::Cli::Command
        register 'generate'

        param 'help'

        def call
          puts "help for generate"
        end
      end

      class Model < Hanami::Cli::Command
        register 'generate model'

        def call
          puts "generated model"
        end
      end

      class Action < Hanami::Cli::Command
        register 'generate action'

        def call
        end
      end
    end
  end
end

module Webpack
  module Commands
    include Hanami::Cli

    class Hi < Hanami::Cli::Command
      register 'hello'

      def call
        puts "world"
      end
    end

    module Generate
      class Configuration < Hanami::Cli::Command
        register 'generate webpack'

        def call
          puts "generated configuration"
        end
      end

      class Action < Hanami::Cli::Command
        register 'generate action'

        def call
          puts "generated action"
        end
      end
    end
  end
end

Foo::CLI.call
